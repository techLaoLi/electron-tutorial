## 04 窗口与生命周期

- 目标：掌握窗口创建、复用与应用生命周期钩子。

### 创建窗口
```ts
import { BrowserWindow } from 'electron'

export function createMainWindow() {
  const win = new BrowserWindow({
    width: 1100,
    height: 760,
    minWidth: 900,
    minHeight: 600,
    webPreferences: {
      preload: __dirname + '/preload.js',
      contextIsolation: true,
      nodeIntegration: false
    }
  })
  win.loadFile('index.html')
  return win
}
```

### 生命周期事件
- `app.whenReady()`：初始化
- `window-all-closed`：除 macOS 外可退出
- `activate`（macOS）：无窗口时重新创建

### 开发者工具与加载 URL
```ts
win.webContents.openDevTools()
// 或加载本地开发服务器
win.loadURL('http://localhost:5173')
```

### 本章要点
- 封装窗口工厂以便管理多窗口
- 区分开发与生产加载源
