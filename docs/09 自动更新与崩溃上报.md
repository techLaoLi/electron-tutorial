## 09 自动更新与崩溃上报

- 目标：集成自动更新与崩溃日志收集。

### 自动更新（概念）
- 常配合 electron-builder + 私有/公有更新服务器（如 GitHub Releases）
- 主进程监听更新事件并提示用户

```ts
import { autoUpdater } from 'electron-updater'

autoUpdater.on('update-available', () => {/* 通知渲染端 */})
autoUpdater.on('update-downloaded', () => {/* 提示重启安装 */})

app.whenReady().then(() => {
  autoUpdater.checkForUpdatesAndNotify()
})
```

### 崩溃上报
- `process.on('uncaughtException')`、`unhandledRejection` 捕获日志
- 可接入 Sentry 等平台

```ts
process.on('uncaughtException', (err) => {
  // 写入日志文件并上报
})
```

### 本章要点
- 自动更新需有稳定的包托管与版本策略
- 先完善日志，便于问题定位
